<html>
<head>
    <script src="../plugins/alpine3.2.4.js" defer></script>
</head>
<body>


<div x-data="loadMyData()">

    <h1 x-html="msg"></h1>
    <h2 x-text="$store.ramsay.isDonkey ? 'Yes :(' : 'Nooo, u!'"></h2>

    <button x-on:click="$store.ramsay.toggle()">Change donkeyy</button>


    <div x-data="{msg: 'is donkey???'}">
        <h1 x-text="msg"></h1>
        <div x-text="$store.ramsay.isDonkey ? 'yes :..(' : 'ha! Noooo!'"></div>
        <button x-on:click="$store.ramsay.toggle()">Toggle from inside component</button>
    </div>

    <script type="text/javascript">
      function loadMyData(){
        return {
          msg: 'Are you a donkey???',
          test(){

          }
        };
      }

      document.addEventListener('alpine:init', () => {
        Alpine.store('ramsay', {
          isDonkey: true,
          toggle() {
            this.isDonkey = !this.isDonkey;
          }
        })
      })
    </script>
</div>



<div>
    <button onclick="Alpine.store('ramsay').toggle();">NOT ALPINE</button>
</div>

</body>
</html>
